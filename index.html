<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Visualización de ODS</title>
  <!-- Agrega Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <!-- Agrega Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="bg-light">
  <div class="container mt-5">
    <div class="row">
      <div class="col-md-6">
        <canvas id="odsChart" width="400" height="200"></canvas>
      </div>
      <div class="col-md-6">
        <canvas id="odsPieChart" width="400" height="200"></canvas>
      </div>
    </div>

    <div class="row mt-4">
      <div class="col-md-6">
        <form id="barChartForm">
          <h5>Ingrese datos para el gráfico de barras:</h5>
          <div class="mb-3">
            <label for="odsLabels">Etiquetas (separadas por comas):</label>
            <input type="text" class="form-control" id="odsLabels" required>
          </div>
          <div class="mb-3">
            <label for="odsData">Datos (separados por comas):</label>
            <input type="text" class="form-control" id="odsData" required>
          </div>
          <button type="button" class="btn btn-primary" onclick="updateBarChart()">Actualizar Gráfico</button>
        </form>
      </div>
      <div class="col-md-6">
        <form id="pieChartForm">
          <h5>Ingrese datos para el gráfico de torta:</h5>
          <div class="mb-3">
            <label for="odsPieLabels">Etiquetas (separadas por comas):</label>
            <input type="text" class="form-control" id="odsPieLabels" required>
          </div>
          <div class="mb-3">
            <label for="odsPieData">Datos (separados por comas):</label>
            <input type="text" class="form-control" id="odsPieData" required>
          </div>
          <button type="button" class="btn btn-primary" onclick="updatePieChart()">Actualizar Gráfico</button>
        </form>
      </div>
    </div>
  </div>

  <script>
    // Función para actualizar el gráfico de barras
    function updateBarChart() {
      const labels = document.getElementById('odsLabels').value.split(',');
      const data = document.getElementById('odsData').value.split(',').map(Number);

      myChart.data.labels = labels;
      myChart.data.datasets[0].data = data;
      myChart.update();
    }

    // Función para actualizar el gráfico de torta
    function updatePieChart() {
      const labels = document.getElementById('odsPieLabels').value.split(',');
      const data = document.getElementById('odsPieData').value.split(',').map(Number);

      pieChart.data.labels = labels;
      pieChart.data.datasets[0].data = data;
      pieChart.update();
    }

    // Configuración inicial del gráfico de barras
    const ctx = document.getElementById('odsChart').getContext('2d');
    const myChart = new Chart(ctx, {
      type: 'bar',
      data: {
        labels: ["ODS 1", "ODS 2", "ODS 3", "ODS 4", "ODS 5"],
        datasets: [{
          label: 'Progreso de los ODS',
          data: [75, 90, 60, 80, 50],
          backgroundColor: 'rgba(75, 192, 192, 0.2)',
          borderColor: 'rgba(75, 192, 192, 1)',
          borderWidth: 1
        }]
      },
      options: {
        scales: {
          y: {
            beginAtZero: true,
            max: 100
          }
        }
      }
    });

    // Configuración inicial del gráfico de torta
    const pieCtx = document.getElementById('odsPieChart').getContext('2d');
    const pieChart = new Chart(pieCtx, {
      type: 'pie',
      data: {
        labels: ["ODS 1", "ODS 2", "ODS 3", "ODS 4", "ODS 5"],
        datasets: [{
          data: [20, 25, 15, 20, 20],
          backgroundColor: ['rgba(255, 99, 132, 0.2)', 'rgba(255, 205, 86, 0.2)', 'rgba(54, 162, 235, 0.2)', 'rgba(255, 159, 64, 0.2)', 'rgba(153, 102, 255, 0.2)'],
          borderColor: ['rgba(255, 99, 132, 1)', 'rgba(255, 205, 86, 1)', 'rgba(54, 162, 235, 1)', 'rgba(255, 159, 64, 1)', 'rgba(153, 102, 255, 1)'],
          borderWidth: 1
        }]
      }
    });
  </script>
</body>
</html>
